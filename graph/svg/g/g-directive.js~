/* global angular */
(function() {
  'use strict';
  angular.module("ortApp.graph").directive("ortG", ortGDirective);

  ortGDirective.$inject = ["d3", "ortNodeService"];
  function ortGDirective (d3, nodeService) {
    return {
      restrict: "CA",
      templateNamespace: 'svg',
      scope: {
        data: "=chartData"
      },
      link: function ( scope, iElement, iAttrs ) {
        scope.currentWidth = iAttrs.width;
        scope.currentHeight = iAttrs.height;
        var a = d3.selectAll(iElement);
        a.on("click", function (f, a){
           nodeService.navigateTo(f);
        });


      }
    };
  }
})();
